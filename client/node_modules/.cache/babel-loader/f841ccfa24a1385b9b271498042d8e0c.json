{"ast":null,"code":"var _jsxFileName = \"D:\\\\React Projects\\\\crwn-clothing\\\\src\\\\components\\\\header\\\\header.component.jsx\";\nimport React from 'react';\nimport './header.styles.scss';\nimport { Link } from 'react-router-dom';\nimport { ReactComponent as Logo } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/crown.svg\";\nimport { auth, createUserProfileDocument } from '../../firebase/firebase.utils.js';\nimport { connect } from 'react-redux';\nimport CartIcon from '../cart-icon/cart-icon.component';\nimport CartDropdown from '../cart-dropdown/cart-dropdown.component';\nimport { createStructuredSelector } from 'reselect';\nimport { selectCartHidden } from '../../redux/cart/cart.selectors';\nimport { selectCurrentUser } from '../../redux/user/user.selectors';\nimport { HeaderContainer, LogoContainer, OptionsContainer, OptionDiv, OptionLink } from './headers.styles';\nlet displayName = '';\nexport const displaySalutation = () => {\n  auth.onAuthStateChanged(async userAuth => {\n    if (userAuth) {\n      const userRef = await createUserProfileDocument(userAuth);\n      userRef.onSnapshot(snapShot => {\n        displayName = snapShot.data().displayName;\n      });\n    }\n  });\n};\n\nconst signOut = () => {\n  auth.signOut();\n  displayName = '';\n};\n\nfunction Header({\n  currentUser,\n  hidden\n}) {\n  displaySalutation();\n  return /*#__PURE__*/React.createElement(HeaderContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LogoContainer, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(OptionsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, displayName ? \"Hello! \" + displayName : displayName), /*#__PURE__*/React.createElement(OptionLink, {\n    to: \"/shop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"SHOP\"), /*#__PURE__*/React.createElement(OptionLink, {\n    to: \"/contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, \"CONTACT\"), currentUser ? /*#__PURE__*/React.createElement(OptionDiv, {\n    onClick: () => signOut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"SIGN OUT\") : /*#__PURE__*/React.createElement(OptionLink, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, \"SIGN IN\"), /*#__PURE__*/React.createElement(CartIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  })), hidden ? null : /*#__PURE__*/React.createElement(CartDropdown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }));\n} //createStructuredSelector will pass toplevel state to the selectors\n\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser,\n  hidden: selectCartHidden\n});\nexport default connect(mapStateToProps)(Header);","map":{"version":3,"sources":["D:/React Projects/crwn-clothing/src/components/header/header.component.jsx"],"names":["React","Link","auth","createUserProfileDocument","connect","CartIcon","CartDropdown","createStructuredSelector","selectCartHidden","selectCurrentUser","HeaderContainer","LogoContainer","OptionsContainer","OptionDiv","OptionLink","displayName","displaySalutation","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","data","signOut","Header","currentUser","hidden","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,sBAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,SAASC,IAAT,EAAeC,yBAAf,QAAgD,kCAAhD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,QAAP,MAAqB,kCAArB;AACA,OAAOC,YAAP,MAAyB,0CAAzB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,SAASC,gBAAT,QAAiC,iCAAjC;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AACA,SAASC,eAAT,EAA0BC,aAA1B,EAAyCC,gBAAzC,EAA2DC,SAA3D,EAAsEC,UAAtE,QAAwF,kBAAxF;AAEA,IAAIC,WAAW,GAAG,EAAlB;AAEA,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACnCd,EAAAA,IAAI,CAACe,kBAAL,CAAwB,MAAMC,QAAN,IAAkB;AACtC,QAAIA,QAAJ,EAAc;AACV,YAAMC,OAAO,GAAG,MAAMhB,yBAAyB,CAACe,QAAD,CAA/C;AAEAC,MAAAA,OAAO,CAACC,UAAR,CAAmBC,QAAQ,IAAI;AAC3BN,QAAAA,WAAW,GAAGM,QAAQ,CAACC,IAAT,GAAgBP,WAA9B;AACH,OAFD;AAGH;AACJ,GARD;AASH,CAVM;;AAYP,MAAMQ,OAAO,GAAG,MAAM;AAClBrB,EAAAA,IAAI,CAACqB,OAAL;AACAR,EAAAA,WAAW,GAAG,EAAd;AACH,CAHD;;AAMA,SAASS,MAAT,CAAgB;AAAEC,EAAAA,WAAF;AAAcC,EAAAA;AAAd,CAAhB,EAAwC;AACpCV,EAAAA,iBAAiB;AAEjB,sBACI,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AAAe,IAAA,EAAE,EAAC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQD,WAAW,GAAG,YAAYA,WAAf,GAA6BA,WAFhD,CADJ,eAMI,oBAAC,UAAD;AAAY,IAAA,EAAE,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANJ,eAOI,oBAAC,UAAD;AAAY,IAAA,EAAE,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPJ,EASQU,WAAW,gBACP,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAE,MAAMF,OAAO,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADO,gBAGP,oBAAC,UAAD;AAAY,IAAA,EAAE,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAZZ,eAcI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdJ,CAJJ,EAqBQG,MAAM,GACJ,IADI,gBAEJ,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBV,CADJ;AA4BH,C,CAED;;;AACA,MAAMC,eAAe,GAAGpB,wBAAwB,CAAC;AAC7CkB,EAAAA,WAAW,EAAEhB,iBADgC;AAE7CiB,EAAAA,MAAM,EAAElB;AAFqC,CAAD,CAAhD;AAKA,eAAeJ,OAAO,CAACuB,eAAD,CAAP,CAAyBH,MAAzB,CAAf","sourcesContent":["import React from 'react';\r\nimport './header.styles.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactComponent as Logo } from '../../assets/crown.svg';\r\nimport { auth, createUserProfileDocument } from '../../firebase/firebase.utils.js';\r\nimport { connect } from 'react-redux';\r\nimport CartIcon from '../cart-icon/cart-icon.component';\r\nimport CartDropdown from '../cart-dropdown/cart-dropdown.component';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCartHidden } from '../../redux/cart/cart.selectors';\r\nimport { selectCurrentUser } from '../../redux/user/user.selectors';\r\nimport { HeaderContainer, LogoContainer, OptionsContainer, OptionDiv, OptionLink } from './headers.styles';\r\n\r\nlet displayName = '';\r\n\r\nexport const displaySalutation = () => {\r\n    auth.onAuthStateChanged(async userAuth => {\r\n        if (userAuth) {\r\n            const userRef = await createUserProfileDocument(userAuth);\r\n\r\n            userRef.onSnapshot(snapShot => {\r\n                displayName = snapShot.data().displayName;\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\nconst signOut = () => {\r\n    auth.signOut();\r\n    displayName = '';\r\n}\r\n\r\n\r\nfunction Header({ currentUser,hidden }) {\r\n    displaySalutation();\r\n\r\n    return (\r\n        <HeaderContainer>\r\n            <LogoContainer to=\"/\">\r\n                <Logo className=\"logo\" />\r\n            </LogoContainer>\r\n            <OptionsContainer>\r\n                <div className=\"option\">\r\n                    {\r\n                        displayName ? \"Hello! \" + displayName : displayName\r\n                    }\r\n                </div>\r\n                <OptionLink to=\"/shop\">SHOP</OptionLink>\r\n                <OptionLink to=\"/contact\">CONTACT</OptionLink>\r\n                {\r\n                    currentUser ?\r\n                        <OptionDiv onClick={() => signOut()}>SIGN OUT</OptionDiv>\r\n                        :\r\n                        <OptionLink to='/signin'>SIGN IN</OptionLink>\r\n                }\r\n                <CartIcon />\r\n            </OptionsContainer>\r\n            {\r\n                hidden\r\n                ? null\r\n                : <CartDropdown />\r\n            }\r\n        </HeaderContainer>\r\n    )\r\n}\r\n\r\n//createStructuredSelector will pass toplevel state to the selectors\r\nconst mapStateToProps = createStructuredSelector({\r\n    currentUser: selectCurrentUser,\r\n    hidden: selectCartHidden\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n"]},"metadata":{},"sourceType":"module"}