{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\React Projects\\\\crwn-clothing\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\React Projects\\\\crwn-clothing\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React from'react';import'./header.styles.scss';import{Link}from'react-router-dom';import{ReactComponent as Logo}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/crown.svg\";import{auth,createUserProfileDocument}from'../../firebase/firebase.utils.js';var displayName='';export var displaySalutation=function displaySalutation(){auth.onAuthStateChanged(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userAuth){var userRef;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!userAuth){_context.next=5;break;}_context.next=3;return createUserProfileDocument(userAuth);case 3:userRef=_context.sent;userRef.onSnapshot(function(snapShot){displayName=snapShot.data().displayName;});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};var signOut=function signOut(){auth.signOut();displayName='';};function Header(_ref2){var currentUser=_ref2.currentUser;displaySalutation();return/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(Link,{className:\"logo-container\",to:\"/\"},/*#__PURE__*/React.createElement(Logo,{className:\"logo\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"options\"},/*#__PURE__*/React.createElement(\"div\",{className:\"option\"},displayName?\"Hello! \"+displayName:displayName),/*#__PURE__*/React.createElement(Link,{className:\"option\",to:\"/shop\"},\"SHOP\"),/*#__PURE__*/React.createElement(Link,{className:\"option\",to:\"/contact\"},\"CONTACT\"),currentUser?/*#__PURE__*/React.createElement(\"div\",{className:\"option\",onClick:function onClick(){return signOut();}},\"SIGN OUT\"):/*#__PURE__*/React.createElement(Link,{className:\"option\",to:\"/signin\"},\"SIGN IN\")));}export default Header;","map":{"version":3,"sources":["D:/React Projects/crwn-clothing/src/components/header/header.component.jsx"],"names":["React","Link","auth","createUserProfileDocument","displayName","displaySalutation","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","data","signOut","Header","currentUser"],"mappings":"2OAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,sBAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,C,+FAEA,OAASC,IAAT,CAAeC,yBAAf,KAAgD,kCAAhD,CAEA,GAAIC,CAAAA,WAAW,CAAC,EAAhB,CAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAI,QAArBA,CAAAA,iBAAqB,EAAK,CACnCH,IAAI,CAACI,kBAAL,0FAAwB,iBAAMC,QAAN,kIACjBA,QADiB,+CAEMJ,CAAAA,yBAAyB,CAACI,QAAD,CAF/B,QAEVC,OAFU,eAIhBA,OAAO,CAACC,UAAR,CAAmB,SAAAC,QAAQ,CAAG,CAC1BN,WAAW,CAAGM,QAAQ,CAACC,IAAT,GAAgBP,WAA9B,CACH,CAFD,EAJgB,sDAAxB,gEAUH,CAXM,CAaP,GAAMQ,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,EAAI,CACdV,IAAI,CAACU,OAAL,GACAR,WAAW,CAAC,EAAZ,CACH,CAHD,CAKA,QAASS,CAAAA,MAAT,OAAiC,IAAfC,CAAAA,WAAe,OAAfA,WAAe,CAC7BT,iBAAiB,GAEjB,mBACI,2BAAK,SAAS,CAAC,QAAf,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,gBAAhB,CAAiC,EAAE,CAAC,GAApC,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,EADJ,CADJ,cAII,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,QAAf,EAEQD,WAAW,CAAG,UAAYA,WAAf,CAA6BA,WAFhD,CADJ,cAMI,oBAAC,IAAD,EAAM,SAAS,CAAC,QAAhB,CAAyB,EAAE,CAAC,OAA5B,SANJ,cAOI,oBAAC,IAAD,EAAM,SAAS,CAAC,QAAhB,CAAyB,EAAE,CAAC,UAA5B,YAPJ,CASQU,WAAW,cACP,2BAAK,SAAS,CAAC,QAAf,CAAwB,OAAO,CAAE,yBAAIF,CAAAA,OAAO,EAAX,EAAjC,aADO,cAGP,oBAAC,IAAD,EAAM,SAAS,CAAC,QAAhB,CAAyB,EAAE,CAAC,SAA5B,YAZZ,CAJJ,CADJ,CAsBH,CAED,cAAeC,CAAAA,MAAf","sourcesContent":["import React from 'react';\r\nimport './header.styles.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactComponent as Logo } from '../../assets/crown.svg';\r\nimport { auth, createUserProfileDocument } from '../../firebase/firebase.utils.js';\r\n\r\nlet displayName='';\r\n\r\nexport const displaySalutation =  () =>{\r\n    auth.onAuthStateChanged(async userAuth =>{\r\n        if(userAuth){\r\n            const userRef = await createUserProfileDocument(userAuth);\r\n\r\n            userRef.onSnapshot(snapShot =>{\r\n                displayName = snapShot.data().displayName;\r\n            })\r\n        }\r\n    })\r\n\r\n}\r\n\r\nconst signOut=()=>{\r\n    auth.signOut();\r\n    displayName='';\r\n}\r\n\r\nfunction Header({ currentUser }) {\r\n    displaySalutation();\r\n    \r\n    return (\r\n        <div className=\"header\">\r\n            <Link className=\"logo-container\" to=\"/\">\r\n                <Logo className=\"logo\" />\r\n            </Link>\r\n            <div className=\"options\">\r\n                <div className=\"option\">\r\n                    {\r\n                        displayName ? \"Hello! \" + displayName : displayName\r\n                    }\r\n                </div>\r\n                <Link className=\"option\" to=\"/shop\">SHOP</Link>\r\n                <Link className=\"option\" to=\"/contact\">CONTACT</Link>\r\n                {\r\n                    currentUser ?\r\n                        <div className='option' onClick={()=>signOut()}>SIGN OUT</div>\r\n                        :\r\n                        <Link className='option' to='/signin'>SIGN IN</Link>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}